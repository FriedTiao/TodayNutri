/* 移动端适配 */

@media (max-width: 768px) {
  .container {
    padding: 12px;
  }

  /* 头部 */
  .header {
    padding: 30px 20px;
    margin-bottom: 25px;
  }

  .header h1 {
    font-size: 24px;
    line-height: 1.3;
  }

  .header .date {
    font-size: 14px;
  }

  /* 营养总览 */
  .nutrition-overview {
    padding: 20px;
    margin-bottom: 25px;
  }

  .nutrition-overview h2 {
    font-size: 20px;
    margin-bottom: 20px;
  }

  .calories-number {
    font-size: 40px;
  }

  .calories-label {
    font-size: 16px;
  }

  .calories-target {
    font-size: 14px;
  }

  .nutrition-label {
    font-size: 13px;
    flex-wrap: wrap;
    gap: 4px;
  }

  .nutrition-name {
    font-size: 14px;
    width: 100%;
    margin-bottom: 4px;
  }

  .nutrition-values {
    width: 100%;
    justify-content: space-between;
    font-size: 13px;
  }

  /* 三餐网格改为单列 */
  .meals-grid {
    grid-template-columns: 1fr;
    gap: 18px;
    margin-bottom: 25px;
  }

  .meal-card {
    margin-bottom: 0;
  }

  .meal-card:hover {
    transform: translateY(-5px) scale(1);
  }

  .meal-header {
    padding: 16px;
  }

  .meal-type {
    font-size: 17px;
  }

  .meal-calories-header {
    font-size: 13px;
    padding: 5px 12px;
  }

  .meal-image-container {
    height: 220px;
  }

  .meal-info {
    padding: 18px;
  }

  .meal-name {
    font-size: 18px;
    margin-bottom: 12px;
  }

  .meal-meta {
    font-size: 13px;
    padding: 10px 0;
    margin-bottom: 16px;
  }

  .meal-actions {
    gap: 10px;
  }

  .meal-actions .btn {
    padding: 12px;
    font-size: 14px;
  }

  /* 数据来源 */
  .data-sources {
    padding: 20px;
  }

  .data-sources h3 {
    font-size: 20px;
    margin-bottom: 15px;
  }

  .data-sources li {
    font-size: 14px;
    padding: 10px 0;
  }

  .disclaimer {
    padding: 16px;
    margin-top: 20px;
  }

  .disclaimer p {
    font-size: 13px;
  }

  /* 按钮优化 */
  .btn {
    padding: 12px 20px;
    font-size: 14px;
    border-radius: 10px;
  }

  /* 触摸优化 - 增大点击区域 */
  .btn-detail,
  .btn-replace {
    min-height: 44px;
  }
}

/* 平板适配 */
@media (min-width: 769px) and (max-width: 1024px) {
  .meals-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .meal-card:last-child {
    grid-column: 1 / -1;
    max-width: 50%;
    margin: 0 auto;
  }
}

/* 触摸优化 */
@media (hover: none) and (pointer: coarse) {
  .btn {
    padding: 12px 24px;
    font-size: 16px;
  }

  .meal-actions .btn {
    padding: 10px;
    font-size: 14px;
  }

  /* 增大可点击区域 */
  .meal-card {
    cursor: pointer;
  }
}

/* 详情页移动端适配 */
@media (max-width: 768px) {
  .detail-container {
    padding: 12px;
  }

  .back-button {
    margin-bottom: 20px;
    width: 100%;
    justify-content: center;
  }

  .recipe-image {
    height: 250px;
    border-radius: 15px;
    margin-bottom: 20px;
  }

  .recipe-header {
    padding: 25px 20px;
    margin-bottom: 20px;
  }

  .recipe-header h1 {
    font-size: 24px;
    line-height: 1.3;
    margin-bottom: 12px;
  }

  .recipe-header p {
    font-size: 14px;
  }

  .recipe-meta {
    flex-wrap: wrap;
    gap: 12px;
    font-size: 14px;
    margin-top: 15px;
  }

  .section {
    padding: 20px;
    margin-bottom: 20px;
  }

  .section h2 {
    font-size: 20px;
    margin-bottom: 20px;
  }

  .nutrition-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  .nutrition-box {
    padding: 16px;
  }

  .nutrition-box .value {
    font-size: 24px;
  }

  .nutrition-box .label {
    font-size: 13px;
  }

  .ingredients-list,
  .steps-list {
    padding-left: 0;
  }

  .ingredients-list li {
    padding: 12px;
    font-size: 14px;
  }

  .steps-list li {
    padding: 16px;
    padding-left: 55px;
    margin-bottom: 12px;
    font-size: 14px;
    line-height: 1.6;
  }

  .step-number {
    width: 32px;
    height: 32px;
    font-size: 14px;
    left: 16px;
  }

  .sources-list li {
    padding: 8px 0;
    font-size: 14px;
  }

  .source-link {
    padding: 14px 12px;
    font-size: 14px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }

  .source-platform {
    font-size: 15px;
  }

  .source-type {
    font-size: 12px;
  }

  .external-icon {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
  }

  .source-link {
    position: relative;
  }

  /* 关于页面移动端 */
  .about-container {
    padding: 12px;
  }

  .about-header {
    padding: 30px 20px;
    margin-bottom: 25px;
  }

  .about-header h1 {
    font-size: 24px;
    line-height: 1.3;
  }

  .about-header p {
    font-size: 14px;
  }

  .about-section {
    padding: 20px;
    margin-bottom: 20px;
  }

  .about-section h2 {
    font-size: 20px;
    margin-bottom: 18px;
  }

  .about-section p {
    font-size: 14px;
    line-height: 1.7;
  }

  .about-section li {
    padding: 12px 0;
    padding-left: 30px;
    font-size: 14px;
  }

  .warning-box {
    padding: 18px;
    margin: 20px 0;
  }

  .warning-box h3 {
    font-size: 18px;
    margin-bottom: 12px;
  }

  .warning-box p {
    font-size: 13px;
    line-height: 1.6;
  }
}

/* 小屏手机适配 (iPhone SE等) */
@media (max-width: 375px) {
  .header h1 {
    font-size: 20px;
  }

  .calories-number {
    font-size: 36px;
  }

  .meal-name {
    font-size: 16px;
  }

  .nutrition-grid {
    gap: 10px;
  }

  .nutrition-box {
    padding: 12px;
  }

  .nutrition-box .value {
    font-size: 20px;
  }
}

/* iPhone XR/11/12/13/14 适配 (414x896) */
@media (min-width: 376px) and (max-width: 428px) {
  .container {
    padding: 15px;
  }

  .header {
    padding: 35px 20px;
  }

  .header h1 {
    font-size: 26px;
  }

  .nutrition-overview {
    padding: 25px;
  }

  .calories-number {
    font-size: 44px;
  }

  .meal-image-container {
    height: 240px;
  }

  .meal-name {
    font-size: 19px;
  }

  .section h2 {
    font-size: 22px;
  }
}

/* 横屏适配 */
@media (max-width: 768px) and (orientation: landscape) {
  .header {
    padding: 20px;
  }

  .header h1 {
    font-size: 22px;
  }

  .nutrition-overview {
    padding: 20px;
  }

  .meals-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
  }

  .meal-image-container {
    height: 180px;
  }
}

/* 防止文本选择（提升移动端体验） */
@media (hover: none) and (pointer: coarse) {
  .meal-card,
  .btn {
    -webkit-tap-highlight-color: transparent;
    user-select: none;
  }

  /* 优化触摸反馈 */
  .btn:active {
    transform: scale(0.95);
  }

  .meal-card:active {
    transform: scale(0.98);
  }
}

/* ===== 新增元素响应式 ===== */

/* 导航栏移动端 */
@media (max-width: 768px) {
  .site-nav .nav-inner {
    padding: 10px 15px;
  }
  .nav-logo { font-size: 17px; }
  .nav-link { padding: 5px 12px; font-size: 13px; }

  /* 餐卡标签 */
  .meal-tags { gap: 4px; margin-bottom: 10px; }
  .meal-tag-pill { font-size: 10px; padding: 2px 8px; }

  /* 页脚 */
  .site-footer { padding: 20px 15px; font-size: 12px; }
  .footer-sub { font-size: 11px; }

  /* 详情页标签 */
  .recipe-tags { gap: 6px; margin: 10px 0; }
  .recipe-tag { font-size: 12px; padding: 3px 10px; }

  /* 食材勾选 */
  .ingredient-label { gap: 10px; }
  .ingredient-check { width: 18px; height: 18px; }
  .ingredient-text { font-size: 14px; }

  /* 步骤时间线 */
  .step-item { padding-left: 55px; }
  .step-item:not(:last-child)::after { left: 31px; }

  /* 来源卡片 */
  .source-card { padding: 12px 14px; gap: 10px; }
  .source-icon { font-size: 20px; }
  .source-info .source-platform { font-size: 14px; }
  .source-info .source-type { font-size: 12px; }
}

@media (max-width: 375px) {
  .nav-logo { font-size: 15px; }
  .nav-link { padding: 4px 8px; font-size: 12px; }
  .meal-tag-pill { font-size: 9px; }
  .recipe-tag { font-size: 11px; }
}
